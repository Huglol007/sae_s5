{% extends 'base.html.twig' %}

{% block title %}Modifier la RÃ©partition des Heures{% endblock %}

{% block body %}
<div class="container mt-5">
    <h2 class="mb-4 text-center">ðŸ“… RÃ©partition des Heures pour <strong>{{ ressource.name }}</strong></h2>

    {# Liste des mois avec le mois courant sÃ©lectionnÃ© #}
    <div class="d-flex justify-content-between align-items-center mb-3">
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '01'}) }}" class="btn btn-primary">Janvier</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '02'}) }}" class="btn btn-primary">FÃ©vrier</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '03'}) }}" class="btn btn-primary">Mars</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '04'}) }}" class="btn btn-primary">Avril</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '05'}) }}" class="btn btn-primary">Mai</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '06'}) }}" class="btn btn-primary">Juin</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '07'}) }}" class="btn btn-primary">Juillet</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '08'}) }}" class="btn btn-primary">AoÃ»t</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '09'}) }}" class="btn btn-primary">Septembre</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '10'}) }}" class="btn btn-primary">Octobre</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '11'}) }}" class="btn btn-primary">Novembre</a>
        <a href="{{ path('app_ressource_semaine_edit', {id: ressource.id, month: '12'}) }}" class="btn btn-primary">DÃ©cembre</a>
    </div>

    <div class="card shadow p-4">
        <form method="POST">
            {{ form_start(form) }}
            <div class="table-responsive">
                <table class="table table-striped table-hover text-center align-middle">
                    <thead class="table-primary">
                        <tr>
                            <th colspan="2" class="w-25">Semaine</th>
                            <th>CM</th>
                            <th>TD</th>
                            <th>TP</th>
                            <th>DS</th>
                            <th>SAE</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for semaineForm in form.ressource_semaines.children %}
                            <tr>
                                <td colspan="2">
                                    {{ form_widget(semaineForm.semaine, {
                                        'attr': {
                                            'class': 'form-control text-center fw-bold semaine-col',
                                            'readonly': 'readonly'
                                        }
                                    }) }}
                                </td>
                                <td>{{ form_widget(semaineForm.cm, {'attr': {'class': 'form-control text-center'}}) }}</td>
                                <td>{{ form_widget(semaineForm.td, {'attr': {'class': 'form-control text-center'}}) }}</td>
                                <td>{{ form_widget(semaineForm.tp, {'attr': {'class': 'form-control text-center'}}) }}</td>
                                <td>{{ form_widget(semaineForm.ds, {'attr': {'class': 'form-control text-center'}}) }}</td>
                                <td>{{ form_widget(semaineForm.sae, {'attr': {'class': 'form-control text-center'}}) }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="text-center mt-4">
                <button type="submit" class="btn btn-success px-4">ðŸ’¾ Enregistrer</button>
                <a href="{{ path('app_ressource_semaine_index') }}" class="btn btn-secondary px-4">â†© Retour</a>
            </div>
            {{ form_end(form) }}
        </form>
    </div>
</div>

<style>
    .table th, .table td {
        vertical-align: middle;
    }
    .semaine-col {
        min-width: 180px;
        font-size: 1.1rem;
    }
</style>
{% endblock %}
